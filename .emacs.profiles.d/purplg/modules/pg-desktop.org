#+PROPERTY: header-args :tangle yes :results none

#+BEGIN_SRC emacs-lisp
;;; pg-desktop.el --- -*- lexical-binding: t; -*-
(require 'pg-straight)
#+END_SRC

* Tramp

#+BEGIN_SRC emacs-lisp
(use-package tramp
  :straight t
  :config
  (setq tramp-default-method "ssh"))
#+END_SRC

* Home Assistant

** MELPA
#+BEGIN_SRC emacs-lisp :tangle no
(use-package hass
  :straight t
  :init
  (setq hass-url "http://homeassistant:8123"
        hass-apikey (auth-source-pass-get 'secret "home/hass/emacs-apikey"))
  (hass-setup))
#+END_SRC

** Development
#+BEGIN_SRC emacs-lisp
(use-package request
  :straight t)
(use-package websocket
  :straight t)

(use-package hass
  :disabled
  :straight '(:local-repo "~/code/elisp/hass")
  :init
  (setq hass-host "homeassistant"
        hass-insecure t
        hass-apikey (auth-source-pass-get 'secret "home/hass/emacs-apikey")))
#+END_SRC

* Package
#+BEGIN_SRC emacs-lisp
(provide 'pg-desktop)
#+END_SRC
