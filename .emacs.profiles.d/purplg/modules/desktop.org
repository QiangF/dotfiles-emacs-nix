#+PROPERTY: header-args :tangle yes :results none

* Tramp

#+BEGIN_SRC emacs-lisp
(use-package tramp
  :straight t
  :config
  (setq tramp-default-method "ssh"))
#+END_SRC

* Home Assistant

** MELPA
#+BEGIN_SRC emacs-lisp :tangle no
(use-package hass
  :straight t
  :defines hass-url
  :defines hass-apikey
  :functions hass-setup
  :init
  (setq hass-url "http://homeassistant:8123"
        hass-apikey (auth-source-pass-get 'secret "home/hass/emacs-apikey"))
  (hass-setup))
#+END_SRC

** Development
#+BEGIN_SRC emacs-lisp
(use-package request
  :straight t)
(use-package websocket
  :straight t)

(use-package hass
  :disabled
  :straight '(:local-repo "~/code/elisp/hass")
  :after websocket)
#+END_SRC
